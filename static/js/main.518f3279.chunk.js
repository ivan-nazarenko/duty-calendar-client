(this["webpackJsonpduty-calendar-client"]=this["webpackJsonpduty-calendar-client"]||[]).push([[0],{102:function(e,t,a){e.exports={brand:"SideMenu_brand__9JAWb",sideNav:"SideMenu_sideNav__2WG4n",logOut:"SideMenu_logOut__365WO"}},103:function(e,t,a){e.exports={calendarContainer:"Calendar_calendarContainer__3smr4","rbc-toolbar":"Calendar_rbc-toolbar__3KGqb","rbc-agenda-empty":"Calendar_rbc-agenda-empty__1puS4","\u0441alendarBox":"Calendar_\u0441alendarBox__3bbn4",calendarLoading:"Calendar_calendarLoading__2Dkm6"}},104:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__1lwbu",brand:"Header_brand__ixV_7",desc:"Header_desc__2qg2F"}},105:function(e,t,a){e.exports={landingContainer:"Landing_landingContainer__13owe",landingMain:"Landing_landingMain__pRibr",authTabs:"Landing_authTabs__2yfCY",calendarImage:"Landing_calendarImage__1yiKv",imageContainer:"Landing_imageContainer__1WGSG"}},115:function(e,t,a){e.exports={confirmationContainer:"EmailConfirmation_confirmationContainer__f0Um7",icon:"EmailConfirmation_icon__1nqDL"}},116:function(e,t,a){e.exports={listForm:"ListForm_listForm__am2-Z",deleteMember:"ListForm_deleteMember__3UfRC"}},143:function(e,t,a){e.exports={content:"Content_content__14f1U"}},144:function(e,t,a){e.exports={navbar:"Navbar_navbar__2Nbih"}},150:function(e,t,a){e.exports={spinner:"List_spinner__1XLe0"}},164:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),i=(a(164),a(33)),o=a(29),l=a(272),u=a(22),j=a.n(u),d=a(34),b=a(26),m=a(265),h=a(154),O=a(75),x=a(276),f=a(83),p=a(140),g=a(53),v=a.n(g),_="https://duty-calendar-api.herokuapp.com/auth/",y=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,null,[{key:"login",value:function(e,t){return v.a.post(_+"login",{email:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t){return v.a.post(_+"register",{email:e,password:t})}},{key:"verifyEmail",value:function(e,t){return v.a.post(_+"verify",{userId:t,secretCode:e})}},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}},{key:"setVerified",value:function(){var e=this.getCurrentUser();e.verified=!0,localStorage.setItem("user",JSON.stringify(e))}}]),e}(),w=a(3),k=function(){var e=Object(o.h)(),t=e.code,a=e.id,r=Object(n.useState)(!0),s=Object(b.a)(r,2),c=s[0],u=s[1],f=Object(n.useState)(!1),p=Object(b.a)(f,2),g=p[0],v=p[1];return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.verifyEmail(t,a);case 3:y.setVerified(),v(!0),u(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),v(!1),u(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),Object(w.jsx)(w.Fragment,{children:c?Object(w.jsx)(m.a,{indicator:Object(w.jsx)(O.a,{style:{fontSize:35},spin:!0})}):g?Object(w.jsx)(l.a,{icon:Object(w.jsx)(x.a,{}),title:"Email \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043e",extra:Object(w.jsx)(h.a,{type:"default",children:Object(w.jsx)(i.b,{to:"/",children:"\u041d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443"})})}):Object(w.jsx)(l.a,{status:"error",title:"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 email",subTitle:"\u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0440\u0435\u0439\u0442\u0438 \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c \u0437\u043d\u043e\u0432\u0443 \u0430\u0431\u043e \u0441\u0442\u0432\u043e\u0440\u0456\u043d\u044c \u043d\u043e\u0432\u0438\u0439 \u0430\u043a\u0430\u0443\u043d\u0442",extra:[Object(w.jsx)(h.a,{type:"default",children:Object(w.jsx)(i.b,{to:"/",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})},"console")]})})},N=a(277),C=a(115),F=a.n(C),S=function(e){var t=e.email;return Object(w.jsxs)("div",{className:F.a.confirmationContainer,children:[Object(w.jsx)("div",{className:F.a.icon,children:Object(w.jsx)(N.a,{})}),Object(w.jsx)("span",{children:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 \u0431\u0443\u043b\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 ".concat(t)}),Object(w.jsx)(h.a,{type:"default",onClick:function(){return y.logout()},children:"\u0412\u0438\u0439\u0442\u0438"})]})},I=function(e){var t=e.children,a=y.getCurrentUser(),n=null;return n=a&&a.verified?t:a?Object(w.jsx)(S,{email:a.email}):Object(w.jsx)(o.a,{to:"/"}),Object(w.jsx)(w.Fragment,{children:n})},E=a(143),L=a.n(E),D=function(e){var t=e.children;return Object(w.jsx)("main",{className:L.a.content,children:t})},M=a(279),z=a(280),B=a(281),H=a(278),T=a(76),q=a.n(T),U=a(144),V=a.n(U),A=function(e){var t=e.links;return Object(w.jsx)("nav",{className:V.a.navbar,children:Object(w.jsx)("ul",{children:t.map((function(e,t){return Object(w.jsxs)("li",{children:[e.icon,Object(w.jsx)(i.b,{to:e.link,children:e.title})]},t)}))})})},K=a(274),J=a(102),W=a.n(J),P=function(e){var t=e.visible,a=e.email,n=e.onLogout,r=e.onClose,s=e.links;return Object(w.jsx)(K.a,{title:Object(w.jsx)("span",{className:W.a.brand,children:"DutyCalendar"}),visible:t,onClose:r,closable:!0,placement:"left",width:"300",children:Object(w.jsxs)("ul",{className:W.a.sideNav,children:[s.map((function(e,t){return Object(w.jsxs)("li",{children:[e.icon,Object(w.jsx)(i.b,{to:e.link,onClick:r,children:e.title})]},t)})),Object(w.jsxs)("li",{className:W.a.logOut,children:[Object(w.jsx)("div",{children:a}),Object(w.jsxs)("span",{onClick:n,children:[Object(w.jsx)(H.a,{}),"\u0412\u0438\u0439\u0442\u0438"]})]},s.length)]})})},G=[{link:"/home/calendar",title:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440",icon:Object(w.jsx)(M.a,{})},{link:"/home/list",title:"\u0421\u043f\u0438\u0441\u043e\u043a",icon:Object(w.jsx)(z.a,{})}],R=function(e){var t=e.email,a=e.onLogout,r=Object(n.useState)(!1),s=Object(b.a)(r,2),c=s[0],i=s[1];return Object(w.jsxs)("header",{className:q.a.homeHeader,children:[Object(w.jsx)(h.a,{className:q.a.sideMenuButton,icon:Object(w.jsx)(B.a,{}),size:"large",onClick:function(){i(!0)},type:"link",color:"black"}),Object(w.jsx)("span",{className:q.a.brand,children:"DutyCalendar"}),Object(w.jsx)(A,{links:G}),Object(w.jsxs)("span",{className:q.a.user,children:[t,Object(w.jsx)(h.a,{size:"middle",type:"default",icon:Object(w.jsx)(H.a,{}),onClick:a})]}),Object(w.jsx)(P,{visible:c,onClose:function(){i(!1)},email:t,links:G,onLogout:a})]})},Y=a(56),Z=a(269),Q=a(266),X=a(267),$=a(271),ee=a(268),te=a(273),ae=a(282),ne=a(283),re=a(158),se=a(116),ce=a.n(se),ie={types:{email:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 email"}},oe=function e(t,a,n,r,s,c){Object(f.a)(this,e),this.title=void 0,this.allDay=void 0,this.start=void 0,this.end=void 0,this.desc=void 0,this.resourceId=void 0,this.tooltip=void 0,this.title=t,this.allDay=r||!1,this.start=a,this.end=n,this.desc=s||"",this.resourceId=c},le=function(e){var t=[];e.sort((function(e,t){return e.id-t.id}));for(var a=(new Date).getMonth(),n=(new Date).getFullYear(),r=new Date(n,a+1,0).getDate(),s=0,c=1;c<=r;c++){var i=new Date(n,a,c);6!==i.getDay()&&0!==i.getDay()&&(s===e.length&&(s=0),t.push(new oe("".concat(e[s].lastName," ").concat(e[s].firstName[0],"."),i,i,!0)),++s===e.length&&(s=0),t.push(new oe("".concat(e[s].lastName," ").concat(e[s].firstName[0],"."),i,i,!0)),s++)}return t},ue=function(e){var t=e.initialData,a=e.onSubmit,r=e.loading,s=Z.a.useForm(),c=Object(b.a)(s,1)[0];return Object(n.useEffect)((function(){t&&c.setFieldsValue({name:t.name,members:t.members})}),[t]),Object(w.jsx)("div",{className:ce.a.listForm,children:Object(w.jsxs)(Z.a,{name:"list",form:c,onFinish:a,autoComplete:"off",validateMessages:ie,initialValues:t?{name:t.name,members:t.members}:{name:"\u041d\u043e\u0432\u0438\u0439 \u0421\u043f\u0438\u0441\u043e\u043a"},children:[Object(w.jsxs)(Q.a,{gutter:5,children:[Object(w.jsx)(X.a,{flex:"auto",children:Object(w.jsx)(Z.a.Item,{name:"name",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443"},{max:99,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 100 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"}],children:Object(w.jsx)($.a,{size:"large",placeholder:"\u041d\u0430\u0437\u0432\u0430"})})}),Object(w.jsx)(X.a,{children:Object(w.jsx)(Z.a.Item,{children:Object(w.jsx)(h.a,{size:"large",type:"default",htmlType:"submit",icon:Object(w.jsx)(ae.a,{}),loading:r})})})]}),Object(w.jsx)(ee.a,{}),Object(w.jsx)(Z.a.List,{name:"members",rules:[{validator:function(){var e=Object(d.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(a.length<1)){e.next=5;break}return te.a.error({message:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u044f\u043a \u043c\u0456\u043d\u0456\u043c\u0443\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0447\u0435\u0440\u0433\u043e\u0432\u043e\u0433\u043e"}),e.abrupt("return",Promise.reject(new Error("\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u044f\u043a \u043c\u0456\u043d\u0456\u043c\u0443\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0447\u0435\u0440\u0433\u043e\u0432\u043e\u0433\u043e")));case 5:a.length>100&&te.a.error({message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0447\u0435\u0440\u0433\u043e\u0432\u0438\u0445 - 100"});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}],children:function(e,t){var a=t.add,n=t.remove;return Object(w.jsxs)(w.Fragment,{children:[e.map((function(e){return Object(w.jsxs)(Q.a,{style:{display:"flex",marginBottom:8},gutter:5,children:[Object(w.jsx)(X.a,{xs:12,sm:12,lg:7,children:Object(w.jsx)(Z.a.Item,Object(Y.a)(Object(Y.a)({},e),{},{name:[e.name,"lastName"],fieldKey:[e.fieldKey,"lastName"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"},{max:99,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 100 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"}],children:Object(w.jsx)($.a,{placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"})}))}),Object(w.jsx)(X.a,{xs:12,sm:12,lg:7,children:Object(w.jsx)(Z.a.Item,Object(Y.a)(Object(Y.a)({},e),{},{name:[e.name,"firstName"],fieldKey:[e.fieldKey,"firstName"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"},{max:99,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 100 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"}],children:Object(w.jsx)($.a,{placeholder:"\u0406\u043c'\u044f"})}))}),Object(w.jsx)(X.a,{xs:23,sm:23,lg:9,children:Object(w.jsx)(Z.a.Item,Object(Y.a)(Object(Y.a)({},e),{},{name:[e.name,"email"],fieldKey:[e.fieldKey,"email"],rules:[{type:"email"}],children:Object(w.jsx)($.a,{placeholder:"Email"})}))}),Object(w.jsx)(X.a,{xs:1,sm:1,lg:1,children:Object(w.jsx)(ne.a,{className:ce.a.deleteMember,onClick:function(){return n(e.name)}})})]},e.key)})),Object(w.jsx)(Z.a.Item,{children:Object(w.jsx)(h.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(w.jsx)(re.a,{}),disabled:c.getFieldValue("members")&&c.getFieldValue("members").length>100,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0447\u0435\u0440\u0433\u043e\u0432\u043e\u0433\u043e"})})]})}})]})})},je=function(){var e=localStorage.getItem("user");return e&&JSON.parse(e).accessToken?{auth:JSON.parse(e).accessToken,"Access-Control-Allow-Origin":"*"}:{}},de="https://duty-calendar-api.herokuapp.com/members-list/",be=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(de,{headers:je()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(de,t,{headers:je()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.patch(de,t,{headers:je()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=a(150),xe=a.n(Oe),fe=function(){var e=Object(o.g)(),t=Object(n.useState)(null),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(b.a)(c,2),l=i[0],u=i[1],h=Object(n.useState)(!1),x=Object(b.a)(h,2),f=x[0],p=x[1];Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,be();case 4:(a=t.sent).data.members.sort((function(e,t){return e.id-t.id})),s(a.data),u(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),401===t.t0.response.status&&(y.logout(),e.push("/")),u(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()}),[]);var g=function(){var t=Object(d.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.members.forEach((function(e,t){e.email||delete a.members[t].email})),p(!0),t.prev=2,r){t.next=8;break}return t.next=6,me(a);case 6:t.next=10;break;case 8:return t.next=10,he(a);case 10:s(a),p(!1),te.a.success({message:"\u0417\u043c\u0456\u043d\u0438 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e"}),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(2),401===t.t0.response.status&&(y.logout(),e.push("/")),p(!1),te.a.error({message:"\u041f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430 :("});case 20:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)("div",{children:l?Object(w.jsx)("div",{className:xe.a.spinner,children:Object(w.jsx)(m.a,{indicator:Object(w.jsx)(O.a,{style:{fontSize:30},spin:!0})})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0447\u0435\u0440\u0433\u043e\u0432\u0438\u0445"}),Object(w.jsx)(ue,{initialData:r,onSubmit:g,loading:f})]})})},pe=a(117),ge=a(95),ve=a.n(ge),_e=(a(257),a(258),a(103)),ye=a.n(_e);function we(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}ve.a.updateLocale("uk",{week:{dow:1,doy:1}});var ke={date:"\u0414\u0430\u0442\u0430",allDay:"\u0423\u0432\u0435\u0441\u044c \u0434\u0435\u043d\u044c",time:"\u0427\u0430\u0441",event:"\u0427\u0435\u0440\u0433\u043e\u0432\u0456",noEventsInRange:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0447\u0435\u0440\u0433\u043e\u0432\u0438\u0445"},Ne=Object(pe.b)(ve.a),Ce=function(){var e=Object(o.g)(),t=Object(n.useState)(null),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440 \u0447\u0435\u0440\u0433\u0443\u0432\u0430\u043d\u043d\u044f"),i=Object(b.a)(c,2),l=i[0],u=i[1],h=Object(n.useState)(!1),x=Object(b.a)(h,2),f=x[0],p=x[1],g=function(){var e=Object(n.useState)(we()),t=Object(b.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(we())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().width;return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.prev=1,t.next=4,be();case 4:a=t.sent,n=le(a.data.members),u(a.data.name),s(n),p(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),401===t.t0.response.status&&(y.logout(),e.push("/")),p(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}),[g]),Object(w.jsxs)("div",{className:ye.a.calendarContainer,children:[Object(w.jsx)("h1",{children:f?Object(w.jsx)(m.a,{indicator:Object(w.jsx)(O.a,{style:{fontSize:25},spin:!0})}):l}),Object(w.jsx)("div",{className:ye.a.\u0441alendarBox,children:f?Object(w.jsx)("div",{className:ye.a.calendarLoading,children:Object(w.jsx)(m.a,{indicator:Object(w.jsx)(O.a,{style:{fontSize:50},spin:!0})})}):Object(w.jsx)(pe.a,{events:r||[],step:60,defaultView:g>768?"month":"agenda",defaultDate:new Date,localizer:Ne,messages:ke})})]})},Fe=function(){var e=Object(o.g)(),t=y.getCurrentUser();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(R,{email:t.email,onLogout:function(){y.logout(),e.push("/")}}),Object(w.jsx)(D,{children:Object(w.jsxs)(o.d,{children:[Object(w.jsx)(o.b,{path:"/home/calendar",children:Object(w.jsx)(Ce,{})}),Object(w.jsx)(o.b,{path:"/home/list",children:Object(w.jsx)(fe,{})})]})})]})},Se=a(270),Ie=a(104),Ee=a.n(Ie),Le=function(){return Object(w.jsxs)("header",{className:Ee.a.headerContainer,children:[Object(w.jsx)("span",{className:Ee.a.brand,children:"DutyCalendar"}),Object(w.jsx)("span",{className:Ee.a.desc,children:"\u041a\u0435\u0440\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u0433\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0437 \u043b\u0435\u0433\u043a\u0456\u0441\u0442\u044e!"})]})},De=a(105),Me=a.n(De),ze=a(275),Be=a(284),He=a(44),Te=a.n(He),qe=function(){var e=Object(o.g)(),t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(b.a)(c,2),l=i[0],u=i[1],m=function(){var t=Object(d.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,u(!0),t.prev=2,t.next=5,y.login(n,r);case 5:e.push("/home/calendar"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),u(!1),s(!0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[r&&Object(w.jsx)(ze.a,{message:"\u041d\u0435\u0432\u0456\u0440\u043d\u0456 \u0434\u0430\u043d\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437",type:"error",className:Te.a.loginError,showIcon:!0}),Object(w.jsxs)(Z.a,{name:"login",className:Te.a.loginForm,onFinish:m,validateMessages:ie,size:"large",children:[Object(w.jsx)(Z.a.Item,{name:"email",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c email"},{type:"email"}],children:Object(w.jsx)($.a,{prefix:Object(w.jsx)(N.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(w.jsx)(Z.a.Item,{name:"password",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}],children:Object(w.jsx)($.a.Password,{prefix:Object(w.jsx)(Be.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(w.jsx)(Z.a.Item,{className:Te.a.submitContainer,children:Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",className:Te.a.loginFormButton,loading:l,children:"\u0423\u0432\u0456\u0439\u0442\u0438"})})]})]})},Ue=function(){var e=Object(o.g)(),t=Z.a.useForm(),a=Object(b.a)(t,1)[0],r=Object(n.useState)(!1),s=Object(b.a)(r,2),c=s[0],i=s[1],l=Object(n.useState)(!1),u=Object(b.a)(l,2),m=u[0],O=u[1],x=function(){var t=Object(d.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,O(!0),t.prev=2,t.next=5,y.register(n,r);case 5:return t.next=7,y.login(n,r);case 7:e.push("/home/calendar"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),O(!1),i(!0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[c&&Object(w.jsx)(ze.a,{message:"\u0426\u0435\u0439 email \u0432\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f",type:"error",className:Te.a.loginError,showIcon:!0}),Object(w.jsxs)(Z.a,{form:a,name:"registration",className:Te.a.loginForm,onFinish:x,validateMessages:ie,size:"large",children:[Object(w.jsx)(Z.a.Item,{name:"email",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c email"},{type:"email"}],children:Object(w.jsx)($.a,{prefix:Object(w.jsx)(N.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(w.jsx)(Z.a.Item,{name:"password",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},{min:6,message:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"},{max:99,message:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 100 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"}],hasFeedback:!0,children:Object(w.jsx)($.a,{prefix:Object(w.jsx)(Be.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(w.jsx)(Z.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0437\u0431\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f"):Promise.resolve()}}}],children:Object(w.jsx)($.a,{prefix:Object(w.jsx)(Be.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(w.jsx)(Z.a.Item,{className:Te.a.submitContainer,children:Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",className:Te.a.loginFormButton,loading:m,children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"})})]})]})},Ve=Se.a.TabPane,Ae=function(){var e=Object(o.g)();return Object(n.useEffect)((function(){y.getCurrentUser()&&e.push("/home/calendar")}),[]),Object(w.jsxs)("div",{className:Me.a.landingContainer,children:[Object(w.jsx)(Le,{}),Object(w.jsx)("main",{className:Me.a.landingMain,children:Object(w.jsxs)(Se.a,{defaultActiveKey:"1",className:Me.a.authTabs,size:"large",children:[Object(w.jsx)(Ve,{tab:"\u0412\u0445\u0456\u0434",children:Object(w.jsx)(qe,{})},"1"),Object(w.jsx)(Ve,{tab:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",children:Object(w.jsx)(Ue,{})},"2")]})})]})},Ke=function(){return Object(w.jsxs)(o.d,{children:[Object(w.jsx)(o.b,{exact:!0,path:"/",children:Object(w.jsx)(Ae,{})}),Object(w.jsx)(o.b,{path:"/email-confirmation",children:Object(w.jsx)(I,{})}),Object(w.jsx)(o.b,{exact:!0,path:"/verification/:code/:id",children:Object(w.jsx)(k,{})}),Object(w.jsx)(I,{children:Object(w.jsx)(o.b,{path:"/home",children:Object(w.jsx)(Fe,{})})}),Object(w.jsxs)(o.b,{to:"*",children:[Object(w.jsx)(l.a,{status:"404",title:"404",subTitle:"\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e!"}),","]})]})};a(259);var Je=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(i.a,{children:Object(w.jsx)(Ke,{})})})};c.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(Je,{})}),document.getElementById("root"))},44:function(e,t,a){e.exports={loginForm:"AuthForm_loginForm__3w4P1",submitContainer:"AuthForm_submitContainer__22Q6W",loginFormButton:"AuthForm_loginFormButton__f0w-1",registerLink:"AuthForm_registerLink__2WszQ",loginError:"AuthForm_loginError__3sUUZ"}},76:function(e,t,a){e.exports={homeHeader:"Header_homeHeader__3tVwM",sideMenuButton:"Header_sideMenuButton__6-rHZ",brand:"Header_brand__15Rl5",user:"Header_user__2Yw_o"}}},[[260,1,2]]]);
//# sourceMappingURL=main.518f3279.chunk.js.map