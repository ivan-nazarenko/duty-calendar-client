(this["webpackJsonpduty-calendar-client"]=this["webpackJsonpduty-calendar-client"]||[]).push([[0],{102:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__1lwbu",brand:"Header_brand__ixV_7",desc:"Header_desc__2qg2F"}},103:function(e,t,a){e.exports={landingContainer:"Landing_landingContainer__13owe",landingMain:"Landing_landingMain__pRibr",authTabs:"Landing_authTabs__2yfCY",calendarImage:"Landing_calendarImage__1yiKv",imageContainer:"Landing_imageContainer__1WGSG"}},113:function(e,t,a){e.exports={confirmationContainer:"EmailConfirmation_confirmationContainer__f0Um7",icon:"EmailConfirmation_icon__1nqDL"}},114:function(e,t,a){e.exports={sideNav:"SideMenu_sideNav__2WG4n",logOut:"SideMenu_logOut__365WO"}},115:function(e,t,a){e.exports={listForm:"ListForm_listForm__am2-Z",deleteMember:"ListForm_deleteMember__3UfRC"}},141:function(e,t,a){e.exports={content:"Content_content__14f1U"}},142:function(e,t,a){e.exports={navbar:"Navbar_navbar__2Nbih"}},148:function(e,t,a){e.exports={spinner:"List_spinner__1XLe0"}},153:function(e,t,a){e.exports={calendarContainer:"Calendar_calendarContainer__3smr4","rbc-toolbar":"Calendar_rbc-toolbar__3KGqb"}},164:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),c=a.n(s),i=(a(164),a(35)),o=a(29),l=a(272),j=a(22),u=a.n(j),d=a(33),b=a(27),m=a(154),h=a(276),O=a(83),x=a(139),f=a(53),p=a.n(f),g="".concat("http://localhost:5000","/auth/"),v=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"login",value:function(e,t){return p.a.post(g+"login",{email:e,password:t}).then((function(e){return e.data.accessToken&&sessionStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){sessionStorage.removeItem("user")}},{key:"register",value:function(e,t){return p.a.post(g+"register",{email:e,password:t})}},{key:"verifyEmail",value:function(e,t){return p.a.post(g+"verify",{userId:t,secretCode:e})}},{key:"getCurrentUser",value:function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null}}]),e}(),_=a(3),y=function(){var e=Object(o.h)(),t=e.code,a=e.id,r=Object(n.useState)(!1),s=Object(b.a)(r,2),c=s[0],j=s[1];return Object(n.useEffect)((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.verifyEmail(t,a);case 3:j(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),j(!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}),[]),Object(_.jsx)(_.Fragment,{children:c?Object(_.jsx)(l.a,{icon:Object(_.jsx)(h.a,{}),title:"Email \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043e",extra:Object(_.jsx)(m.a,{type:"primary",children:Object(_.jsx)(i.b,{to:"/",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})})}):Object(_.jsx)(l.a,{status:"error",title:"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 email",subTitle:"\u0421\u043f\u0440\u043e\u0431\u0438\u0439\u0442\u0435 \u043f\u0440\u0435\u0439\u0442\u0438 \u0437\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f\u043c \u0437\u043d\u043e\u0432\u0443 \u0430\u0431\u043e \u0441\u0442\u0432\u043e\u0440\u0456\u043d\u044c \u043d\u043e\u0432\u0438\u0439 \u0430\u043a\u0430\u0443\u043d\u0442",extra:[Object(_.jsx)(m.a,{type:"primary",children:Object(_.jsx)(i.b,{to:"/",children:"\u041d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443"})},"console")]})})},w=a(277),k=a(113),N=a.n(k),C=function(e){var t=e.email;return Object(_.jsxs)("div",{className:N.a.confirmationContainer,children:[Object(_.jsx)("div",{className:N.a.icon,children:Object(_.jsx)(w.a,{})}),Object(_.jsx)("span",{children:"\u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 \u0431\u0443\u043b\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 ".concat(t)})]})},F=function(e){var t=e.children,a=v.getCurrentUser(),n=null;return n=a&&a.verified?t:a?Object(_.jsx)(C,{email:a.email}):Object(_.jsx)(o.a,{to:"/"}),Object(_.jsx)(_.Fragment,{children:n})},S=a(141),I=a.n(S),E=function(e){var t=e.children;return Object(_.jsx)("main",{className:I.a.content,children:t})},L=a(279),D=a(280),M=a(281),z=a(278),H=a(76),T=a.n(H),q=a(142),B=a.n(q),K=function(e){var t=e.links;return Object(_.jsx)("nav",{className:B.a.navbar,children:Object(_.jsx)("ul",{children:t.map((function(e,t){return Object(_.jsxs)("li",{children:[e.icon,Object(_.jsx)(i.b,{to:e.link,children:e.title})]},t)}))})})},U=a(274),A=a(114),J=a.n(A),P=function(e){var t=e.visible,a=e.email,n=e.onLogout,r=e.onClose,s=e.links;return Object(_.jsx)(U.a,{title:a,visible:t,onClose:r,closable:!0,placement:"left",width:"300",children:Object(_.jsxs)("ul",{className:J.a.sideNav,children:[s.map((function(e,t){return Object(_.jsxs)("li",{children:[e.icon,Object(_.jsx)(i.b,{to:e.link,onClick:r,children:e.title})]},t)})),Object(_.jsxs)("li",{className:J.a.logOut,onClick:n,children:[Object(_.jsx)(z.a,{}),Object(_.jsx)("span",{children:"\u0412\u0438\u0445\u0456\u0434"})]},s.length)]})})},V=[{link:"/home/calendar",title:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440",icon:Object(_.jsx)(L.a,{})},{link:"/home/list",title:"\u0421\u043f\u0438\u0441\u043e\u043a",icon:Object(_.jsx)(D.a,{})}],W=function(e){var t=e.email,a=e.onLogout,r=Object(n.useState)(!1),s=Object(b.a)(r,2),c=s[0],i=s[1];return Object(_.jsxs)("header",{className:T.a.homeHeader,children:[Object(_.jsx)(m.a,{className:T.a.sideMenuButton,icon:Object(_.jsx)(M.a,{}),size:"large",onClick:function(){i(!0)}}),Object(_.jsx)("span",{className:T.a.brand,children:"DutyCalendar"}),Object(_.jsx)(K,{links:V}),Object(_.jsxs)("span",{className:T.a.user,children:[t,Object(_.jsx)(m.a,{size:"middle",type:"default",icon:Object(_.jsx)(z.a,{}),onClick:a})]}),Object(_.jsx)(P,{visible:c,onClose:function(){i(!1)},email:t,links:V,onLogout:a})]})},G=a(56),R=a(269),Y=a(265),Z=a(266),Q=a(271),X=a(267),$=a(282),ee=a(283),te=a(158),ae=a(115),ne=a.n(ae),re={types:{email:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 email"}},se=function e(t,a,n,r,s,c){Object(O.a)(this,e),this.title=void 0,this.allDay=void 0,this.start=void 0,this.end=void 0,this.desc=void 0,this.resourceId=void 0,this.tooltip=void 0,this.title=t,this.allDay=r||!1,this.start=a,this.end=n,this.desc=s||"",this.resourceId=c},ce=function(e){var t=[];e.sort((function(e,t){return e.id-t.id}));for(var a=(new Date).getMonth(),n=(new Date).getFullYear(),r=new Date(n,a+1,0).getDate(),s=0,c=1;c<=r;c++){var i=new Date(n,a,c);6!==i.getDay()&&0!==i.getDay()&&(s===e.length&&(s=0),t.push(new se("".concat(e[s].lastName," ").concat(e[s].firstName[0],"."),i,i,!0)),++s===e.length&&(s=0),t.push(new se("".concat(e[s].lastName," ").concat(e[s].firstName[0],"."),i,i,!0)),s++)}return t},ie=function(e){var t=e.initialData,a=e.onSubmit,r=e.loading,s=R.a.useForm(),c=Object(b.a)(s,1)[0];return Object(n.useEffect)((function(){t&&c.setFieldsValue({name:t.name,members:t.members})}),[t]),Object(_.jsx)("div",{className:ne.a.listForm,children:Object(_.jsxs)(R.a,{name:"list",form:c,onFinish:a,autoComplete:"off",validateMessages:re,initialValues:t?{name:t.name,members:t.members}:{name:"\u041d\u043e\u0432\u0438\u0439 \u0421\u043f\u0438\u0441\u043e\u043a"},children:[Object(_.jsxs)(Y.a,{gutter:5,children:[Object(_.jsx)(Z.a,{flex:"auto",children:Object(_.jsx)(R.a.Item,{name:"name",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443"}],children:Object(_.jsx)(Q.a,{size:"large",placeholder:"\u041d\u0430\u0437\u0432\u0430"})})}),Object(_.jsx)(Z.a,{children:Object(_.jsx)(R.a.Item,{children:Object(_.jsx)(m.a,{size:"large",type:"default",htmlType:"submit",icon:Object(_.jsx)($.a,{}),loading:r})})})]}),Object(_.jsx)(X.a,{}),Object(_.jsx)(R.a.List,{name:"members",rules:[{validator:function(){var e=Object(d.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(a.length<1)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u044f\u043a \u043c\u0456\u043d\u0456\u043c\u0443\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0447\u0435\u0440\u0433\u043e\u0432\u043e\u0433\u043e")));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}],children:function(e,t){var a=t.add,n=t.remove;return Object(_.jsxs)(_.Fragment,{children:[e.map((function(e){return Object(_.jsxs)(Y.a,{style:{display:"flex",marginBottom:8},gutter:5,children:[Object(_.jsx)(Z.a,{xs:12,sm:12,lg:7,children:Object(_.jsx)(R.a.Item,Object(G.a)(Object(G.a)({},e),{},{name:[e.name,"firstName"],fieldKey:[e.fieldKey,"firstName"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f"}],children:Object(_.jsx)(Q.a,{placeholder:"\u0406\u043c'\u044f"})}))}),Object(_.jsx)(Z.a,{xs:12,sm:12,lg:7,children:Object(_.jsx)(R.a.Item,Object(G.a)(Object(G.a)({},e),{},{name:[e.name,"lastName"],fieldKey:[e.fieldKey,"lastName"],rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"}],children:Object(_.jsx)(Q.a,{placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"})}))}),Object(_.jsx)(Z.a,{xs:23,sm:23,lg:9,children:Object(_.jsx)(R.a.Item,Object(G.a)(Object(G.a)({},e),{},{name:[e.name,"email"],fieldKey:[e.fieldKey,"email"],rules:[{type:"email"}],children:Object(_.jsx)(Q.a,{placeholder:"Email"})}))}),Object(_.jsx)(Z.a,{xs:1,sm:1,lg:1,children:Object(_.jsx)(ee.a,{className:ne.a.deleteMember,onClick:function(){return n(e.name)}})})]},e.key)})),Object(_.jsx)(R.a.Item,{children:Object(_.jsx)(m.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(_.jsx)(te.a,{}),children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0447\u0435\u0440\u0433\u043e\u0432\u043e\u0433\u043e"})})]})}})]})})},oe=a(273),le=a(268),je=a(75),ue=function(){var e=sessionStorage.getItem("user");return e&&JSON.parse(e).accessToken?{auth:JSON.parse(e).accessToken}:{}},de="".concat("http://localhost:5000","/members-list/"),be=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(de,{headers:ue()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post(de,t,{headers:ue()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.patch(de,t,{headers:ue()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=a(148),xe=a.n(Oe),fe=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),c=Object(b.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(!1),j=Object(b.a)(l,2),m=j[0],h=j[1];Object(n.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,be();case 4:(t=e.sent).data.members.sort((function(e,t){return e.id-t.id})),r(t.data),o(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[]);var O=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.members.forEach((function(e,a){e.email||delete t.members[a].email})),h(!0),e.prev=2,t){e.next=9;break}return e.next=6,me(t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,he(t);case 11:e.t0=e.sent;case 12:e.t0,h(!1),oe.a.success({message:"\u0417\u043c\u0456\u043d\u0438 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e"}),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(2),h(!1),oe.a.error({message:"\u041f\u0456\u0434 \u0447\u0430\u0441 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u0441\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430 :("});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{children:i?Object(_.jsx)("div",{className:xe.a.spinner,children:Object(_.jsx)(le.a,{indicator:Object(_.jsx)(je.a,{style:{fontSize:30},spin:!0})})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0447\u0435\u0440\u0433\u043e\u0432\u0438\u0445"}),Object(_.jsx)(ie,{initialData:a,onSubmit:O,loading:m})]})})},pe=a(116),ge=a(95),ve=a.n(ge),_e=(a(257),a(258),a(153)),ye=a.n(_e);function we(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}ve.a.updateLocale("uk",{week:{dow:1,doy:1}});var ke={date:"\u0414\u0430\u0442\u0430",allDay:"\u0423\u0432\u0435\u0441\u044c \u0434\u0435\u043d\u044c",time:"\u0427\u0430\u0441",event:"\u0427\u0435\u0440\u0433\u043e\u0432\u0456"},Ne=Object(pe.b)(ve.a),Ce=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)("\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440 \u0447\u0435\u0440\u0433\u0443\u0432\u0430\u043d\u043d\u044f"),c=Object(b.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(!1),j=Object(b.a)(l,2),m=j[0],h=j[1],O=function(){var e=Object(n.useState)(we()),t=Object(b.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(we())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}(),x=(O.height,O.width);return Object(n.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,be();case 4:t=e.sent,a=ce(t.data.members),o(t.data.name),r(a),h(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),h(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}),[]),Object(_.jsxs)("div",{className:ye.a.calendarContainer,children:[Object(_.jsx)("h1",{children:m?Object(_.jsx)(le.a,{indicator:Object(_.jsx)(je.a,{style:{fontSize:15},spin:!0})}):i}),Object(_.jsx)("div",{style:{height:600},children:m?Object(_.jsx)(le.a,{indicator:Object(_.jsx)(je.a,{style:{fontSize:30},spin:!0})}):Object(_.jsx)(pe.a,{events:a||[],step:60,defaultView:x>768?"month":"agenda",defaultDate:new Date,localizer:Ne,messages:ke})})]})},Fe=function(){var e=Object(o.g)(),t=v.getCurrentUser();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W,{email:t.email,onLogout:function(){v.logout(),e.push("/")}}),Object(_.jsx)(E,{children:Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{path:"/home/calendar",children:Object(_.jsx)(Ce,{})}),Object(_.jsx)(o.b,{path:"/home/list",children:Object(_.jsx)(fe,{})})]})})]})},Se=a(270),Ie=a(102),Ee=a.n(Ie),Le=function(e){e.authentificated;return Object(_.jsxs)("header",{className:Ee.a.headerContainer,children:[Object(_.jsx)("span",{className:Ee.a.brand,children:"DutyCalendar"}),Object(_.jsx)("span",{className:Ee.a.desc,children:"\u041a\u0435\u0440\u0443\u0439\u0442\u0435 \u0447\u0435\u0440\u0433\u0443\u0432\u0430\u043d\u043d\u044f\u043c\u0438 \u0437 \u043b\u0435\u0433\u043a\u0456\u0441\u0442\u044e!"})]})},De=a(103),Me=a.n(De),ze=a(275),He=a(284),Te=a(43),qe=a.n(Te),Be=function(){var e=Object(o.g)(),t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(b.a)(c,2),l=i[0],j=i[1],h=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,j(!0),t.prev=2,t.next=5,v.login(n,r);case 5:e.push("/home/calendar"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),j(!1),s(!0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[r&&Object(_.jsx)(ze.a,{message:"\u041d\u0435\u0432\u0456\u0440\u043d\u0456 \u0434\u0430\u043d\u0456, \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437",type:"error",className:qe.a.loginError,showIcon:!0}),Object(_.jsxs)(R.a,{name:"login",className:qe.a.loginForm,onFinish:h,validateMessages:re,size:"large",children:[Object(_.jsx)(R.a.Item,{name:"email",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c email"},{type:"email"}],children:Object(_.jsx)(Q.a,{prefix:Object(_.jsx)(w.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(_.jsx)(R.a.Item,{name:"password",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}],children:Object(_.jsx)(Q.a.Password,{prefix:Object(_.jsx)(He.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(_.jsx)(R.a.Item,{className:qe.a.submitContainer,children:Object(_.jsx)(m.a,{type:"primary",htmlType:"submit",className:qe.a.loginFormButton,loading:l,children:"\u0423\u0432\u0456\u0439\u0442\u0438"})})]})]})},Ke=function(){var e=Object(o.g)(),t=R.a.useForm(),a=Object(b.a)(t,1)[0],r=Object(n.useState)(!1),s=Object(b.a)(r,2),c=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(b.a)(l,2),h=j[0],O=j[1],x=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,O(!0),t.prev=2,t.next=5,v.register(n,r);case 5:return t.next=7,v.login(n,r);case 7:e.push("/email-confirmation"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),O(!1),i(!0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[c&&Object(_.jsx)(ze.a,{message:"\u0426\u0435\u0439 email \u0432\u0436\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f",type:"error",className:qe.a.loginError,showIcon:!0}),Object(_.jsxs)(R.a,{form:a,name:"registration",className:qe.a.loginForm,onFinish:x,validateMessages:re,size:"large",children:[Object(_.jsx)(R.a.Item,{name:"email",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c email"},{type:"email"}],children:Object(_.jsx)(Q.a,{prefix:Object(_.jsx)(w.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(_.jsx)(R.a.Item,{name:"password",rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},{min:6,message:"\u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0432\u0436\u0438\u043d\u0430 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432"}],hasFeedback:!0,children:Object(_.jsx)(Q.a,{prefix:Object(_.jsx)(He.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(_.jsx)(R.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0437\u0431\u0456\u0433\u0430\u044e\u0442\u044c\u0441\u044f"):Promise.resolve()}}}],children:Object(_.jsx)(Q.a,{prefix:Object(_.jsx)(He.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(_.jsx)(R.a.Item,{className:qe.a.submitContainer,children:Object(_.jsx)(m.a,{type:"primary",htmlType:"submit",className:qe.a.loginFormButton,loading:h,children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"})})]})]})},Ue=Se.a.TabPane,Ae=function(){var e=Object(o.g)();return Object(n.useEffect)((function(){v.getCurrentUser()&&e.push("/home/calendar")}),[]),Object(_.jsxs)("div",{className:Me.a.landingContainer,children:[Object(_.jsx)(Le,{}),Object(_.jsx)("main",{className:Me.a.landingMain,children:Object(_.jsxs)(Se.a,{defaultActiveKey:"1",className:Me.a.authTabs,size:"large",children:[Object(_.jsx)(Ue,{tab:"\u0412\u0445\u0456\u0434",children:Object(_.jsx)(Be,{})},"1"),Object(_.jsx)(Ue,{tab:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",children:Object(_.jsx)(Ke,{})},"2")]})})]})},Je=function(){return Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{exact:!0,path:"/",children:Object(_.jsx)(Ae,{})}),Object(_.jsx)(o.b,{path:"/email-confirmation",children:Object(_.jsx)(F,{})}),Object(_.jsx)(o.b,{exact:!0,path:"/verification/:code/:id",children:Object(_.jsx)(y,{})}),Object(_.jsx)(F,{children:Object(_.jsx)(o.b,{path:"/home",children:Object(_.jsx)(Fe,{})})}),Object(_.jsxs)(o.b,{to:"*",children:[Object(_.jsx)(l.a,{status:"404",title:"404",subTitle:"\u0421\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e!"}),","]})]})};a(259);var Pe=function(){return Object(_.jsx)("div",{children:Object(_.jsx)(i.a,{children:Object(_.jsx)(Je,{})})})};c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Pe,{})}),document.getElementById("root"))},43:function(e,t,a){e.exports={loginForm:"AuthForm_loginForm__3w4P1",submitContainer:"AuthForm_submitContainer__22Q6W",loginFormButton:"AuthForm_loginFormButton__f0w-1",registerLink:"AuthForm_registerLink__2WszQ",loginError:"AuthForm_loginError__3sUUZ"}},76:function(e,t,a){e.exports={homeHeader:"Header_homeHeader__3tVwM",sideMenuButton:"Header_sideMenuButton__6-rHZ",brand:"Header_brand__15Rl5",user:"Header_user__2Yw_o"}}},[[260,1,2]]]);
//# sourceMappingURL=main.216452a9.chunk.js.map